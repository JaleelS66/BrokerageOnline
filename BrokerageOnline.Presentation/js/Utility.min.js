var pleaseWaitDiv = $('<div class="modal fade" id="pleaseWaitDialog" data-backdrop="static" data-keyboard="false"><div class="modal-dialog modal-sm"><div class="modal-header"><h1>Processing...</h1></div><div class="modal-body"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div></div></div>'), Utility = { ServiceUrl: "http://localhost:50262/", enableSIP: !1, enableBackDate: !1, ReportHostAndPort: "219.97.200.91:9080", openPentaho: "", CamsReportUrl: "", DistributorReportUrl: "", RegenerateReportUrl: "", AdHocReportUrl: "", SIPReportUrl: "", TieUpCamsReportUrl: "", SIPCamsReportUrl: "", AdHocCAMS_FB: "", AdHocCAMS_MB: "", SmartSheetReportURL: "", AdhocSummaryReport: "", SchemeCatWiseReportURL: "", ChannelWiseReportURL: "", DistributorWiseReportURL: "", ZoneSummaryReport: "", ARNWiseReport: "", CAMSBrokerageFormatSummaryReport: "", ListSearchText: "", writeNotification: function (t, e, o, i) { var n = "2000", r = "0"; "error" == t && (n = "4000", r = "4000"), "norecords" == t && (n = "1000", r = "0"), i ? (i = !0, n = "16000", r = "2000") : i = !1, toastr.options = { closeButton: i, debug: !1, positionClass: "toast-top-mid", onclick: null, showDuration: "300", hideDuration: "1000", timeOut: n, extendedTimeOut: r, showEasing: "swing", hideEasing: "linear", showMethod: "fadeIn", hideMethod: "fadeOut" }, toastr.clear(), toastr[t](o, e) }, clearNotifications: function () { toastr.clear() }, showPleaseWait: function () { pleaseWaitDiv.modal() }, hidePleaseWait: function () { pleaseWaitDiv.modal("hide") }, removeDuplicates: function (t) { var e, o = t.length, i = [], n = {}; for (e = 0; o > e; e++) n[t[e]] = 0; for (e in n) i.push(e); return i }, GetParameterValues: function (t) { for (var e = window.location.href.slice(window.location.href.indexOf("?") + 1).split("&"), o = 0; o < e.length; o++) { var i = e[o].split("="); if (i[0] == t) return i[1] } }, GetHostURL: function () { var t = [], e = "", o = window.location.href, i = o.split("?")[0], n = i.split("/"); return t = n.splice(1, n.length - 1), e = "" == t[0] && -1 != t[1].indexOf("local") ? "http://" + t[1] : "" == t[0] ? "http://" + t[1] + "/" + t[2] : "http://" + t[0] + "/" + t[1] }, ServiceCall: function (t, e, o, i, n, r, a) { jQuery.support.cors = !0, $.ajax({ type: t, contentType: "application/json; charset=utf-8", url: Utility.ServiceUrl + e, data: o, dataType: i, processData: !0, async: r, success: a, error: function (t, e, o) { Utility.ServiceFailed(t, e, o) }, beforeSend: function (t) { t.setRequestHeader("SessionID", sessionStorage.sessionId) } }) }, ServiceFailed: function (t, e, o) { var i = t.responseText.split("'"); if (Utility.writeNotification("error", i[1], "", !0), t.responseText) { var n = t.responseText; o(n ? n : { Message: "Unknown server error." }) } }, GridAllowNumber: function (t) { $(t).keypress(function (t) { return 8 != t.which && 0 != t.which && (t.which < 48 || t.which > 57) ? !1 : void 0 }) }, GridAllowNumberto3: function (t) { $(t).keypress(function (t) { if (8 != t.which && 0 != t.which && (t.which < 48 || t.which > 57)) return !1; var e = (t.which ? t.which : t.keyCode, $(this).val()); return e.length > 2 ? !1 : void 0 }) }, GridAllowDecimal: function (t) { $(t).keypress(function (t) { var e = t.which ? t.which : t.keyCode, o = $(this).val(); if (46 == e) return o.indexOf(".") < 1 ? !0 : !1; if (46 != e && e > 31 && (48 > e || e > 57)) return !1; if (-1 != o.indexOf(".") && o.split(".")[1].length > 1) { if (isNaN(parseFloat(this.value))) return; this.value = parseFloat(this.value).toFixed(1) } return !0 }) }, GridOnlyDecimal: function (t) { $(t).keypress(function (t) { var e = t.which ? t.which : t.keyCode, o = $(this), i = o[0].selectionStart, n = $(this).val(); if (46 == e) return n.indexOf(".") < 1 ? !0 : !1; if (46 != e && e > 31 && (48 > e || e > 57)) return !1; if (-1 != n.indexOf(".")) { if (n.split(".")[1].length <= 1) { if (isNaN(parseFloat(this.value))) return; return !0 } return i < n.indexOf(".") ? !0 : !1 } return !0 }) }, GridOnlyDecimal2of2: function (t) { $(t).keypress(function (t) { var e = t.which ? t.which : t.keyCode, o = $(this).val(); if (46 == e) return o.indexOf(".") < 1 ? !0 : !1; if (46 != e && e > 31 && (48 > e || e > 57)) return !1; if (-1 != o.indexOf(".")) { if (o.split(".")[1].length > 1) { var i = $(this), n = i[0].selectionStart, r = o.indexOf("."); if (n > r) return !1; if (o.split(".")[0].length > 1) { var i = $(this); return i[0].selectionStart != i[0].selectionEnd ? !0 : !1 } } } else if (o.split(".")[0].length > 1) { var i = $(this); return i[0].selectionStart != i[0].selectionEnd ? !0 : !1 } return !0 }) }, isAlphabet: function (t) { return /^[a-zA-Z]+$/.test(t) }, AllowDecimal: function () { $(".numberonly").keypress(function (t) { return 8 != t.which && 0 != t.which && (t.which < 48 || t.which > 57) ? !1 : void 0 }), $(".number").keypress(function (t) { var e = t.which ? t.which : t.keyCode, o = $(this).val(); if (46 == e) return o.indexOf(".") < 1 ? !0 : !1; if (46 != e && e > 31 && (48 > e || e > 57)) return !1; if (-1 != o.indexOf(".") && o.split(".")[1].length > 1) { if (isNaN(parseFloat(this.value))) return; this.value = parseFloat(this.value).toFixed(1) } return !0 }), $(".negativenumber").keypress(function (t) { var e = t.which ? t.which : t.keyCode, o = $(this).val(); return 45 != e && e > 31 && (48 > e || e > 57) ? !1 : 45 == e && -1 != o.indexOf("-") ? !1 : !0 }), $(".number-02").keypress(function (t) { var e = t.which ? t.which : t.keyCode, o = $(this).val(); if (46 == e) return o.indexOf(".") < 1 ? !0 : !1; if (46 != e && e > 31 && (48 > e || e > 57)) return !1; if (-1 != o.indexOf(".") && o.split(".")[1].length > 1) { var i = $(this), n = i[0].selectionStart, r = o.indexOf("."); if (n > r) return !1 } return !0 }), $(".number2-02").keypress(function (t) { var e = t.which ? t.which : t.keyCode, o = $(this).val(); if (46 == e) return o.indexOf(".") < 1 ? !0 : !1; if (46 != e && e > 31 && (48 > e || e > 57)) return !1; if (-1 != o.indexOf(".")) { if (o.split(".")[1].length > 1) { var i = $(this), n = i[0].selectionStart, r = o.indexOf("."); if (n > r) return !1; if (o.split(".")[0].length > 1) { var i = $(this); return i[0].selectionStart != i[0].selectionEnd ? !0 : !1 } } } else if (o.split(".")[0].length > 1) { var i = $(this); return i[0].selectionStart != i[0].selectionEnd ? !0 : !1 } return !0 }), $(".converttoint").blur(function () { $(this).val("" == $(this).val().trim() ? 0 : parseInt($(this).val().trim())) }) }, toFixed: function (t, e) { var o = Math.pow(10, e); return Math.floor(t * o) / o }, AllowAlphaNumeric: function () { $(".alphanumeric").keypress(function (t) { var e = new RegExp("^[ a-zA-Z0-9]+$"), o = String.fromCharCode(t.charCode ? t.charCode : t.which); return e.test(o) ? void 0 : (t.preventDefault(), !1) }) }, UpdateNotificationStatus: function (t) { var e = {}; e.NotificationId = t, e.IsActive = 0, Utility.ServiceCall("POST", "OverviewService.svc/UpdateNotificationStatus", JSON.stringify({ InputData: e }), "json", !1, !1, function (t) { console.log(t) }) }, GetReportQuery: function (t, e) { var o = ""; if ("" != t) { if ("" == e) return t + "= "; var i = e.split(","); return $.each(i, function (e, i) { o += "" == o ? t + "=" + i : "&" + t + "=" + i }), o } }, ReturnSelectedValue: function (t) { var e = [], o = "", i = ""; return o = $("#" + t + " option:selected"), $(o).each(function (t, o) { e.push([$(this).val()]) }), i = e.valueOf().length > 0 ? e.toString() : "" }, remove_tags: function (t) { return jQuery(t).text() }, openWin: function (t) { sessionStorage.reportURL = t; window.open("ReportViewer.html", "_blank") }, AdvanceSearch_Close: function () { Utility.ListSearchText = "" }, AdvanceSearchClick: function (t, e) { Utility.ListSearchText = "", Utility.ServiceCall("POST", "MasterService.svc/GetListSearchColumns", JSON.stringify({ ModuleID: t, StoreProcedure: e }), "json", !1, !1, function (t) { var e = t.GetListSearchColumnsResult; $("#dd_column_names").empty(); for (var o = 0; o < e.length; o++) $("<option />").text(e[o].ColumnNames).val(e[o].ColumnType).appendTo("#dd_column_names") }), Utility.AdvanceSearch_ColumnChange(), Utility.ClearAdvanceSearchClick(), $("#modal_Advance_Search").modal("show") }, DeleteAll: function () { Utility.ServiceCall("POST", "MasterService.svc/DeleteAllNotifications", JSON.stringify({ SearchText: "" }), "json", !1, !1, function (t) { }) }, Add_AdvanceSearch: function () { var t = $("#dd_column_names option:selected")[0].text, e = $("#dd_operations option:selected").val(), o = $("#txt_Adv_input").val(), i = "", n = ""; n = $("#txt_Query_Text").val(); var r = $("#dd_column_names option:selected").val(); if ("" != o && void 0 != o) { switch ("IN" == e && (o = "(" + o + ")"), e) { case "Equals": i = "number" == r ? "= " + o : "= '" + o + "'"; break; case "BeginsWith": i = "Like '" + o + "%'"; break; case "Contains": i = "Like '%" + o + "%'"; break; case "EndsWith": i = "Like '%" + o + "'"; break; case "IN": i = "IN (" + o + ")"; break; case "=": i = "= " + o; break; case ">=": i = ">= " + o; break; case "<=": i = "<= " + o; break; case ">": i = "> " + o; break; case "<": i = "< " + o } "" != n ? n += " AND " + t + " " + i : n = t + " " + i, Utility.ListSearchText = n, $("#txt_Query_Text").val(n), $("#txt_Adv_input").val(""), $("#dd_operations").val($("#dd_operations  option:first-child").val()), $("#dd_column_names").val($("#dd_column_names  option:first-child").val()) } }, AdvanceSearch_ColumnChange: function () { var t = ["Equals", "BeginsWith", "Contains", "EndsWith"]; $("#dd_operations").empty(); for (var e = 0; e < t.length; e++) $("<option />").text(t[e]).val(t[e]).appendTo("#dd_operations") }, ClearAdvanceSearchClick: function () { $("#txt_Adv_input").val(""), $("#txt_Query_Text").val(""), $("#dd_column_names option:first").attr("selected", "selected"), $("#dd_operations option:first").attr("selected", "selected") }, currentcnt: 0, LoadAlerts: function () { Utility.ServiceCall("POST", "MasterService.svc/GetNotification", "", "json", !1, !0, function (t) { var e = t.GetNotificationResult; if (Utility.currentcnt != e.length || 0 == e.length) { var o = '<div class="alert-cnt-otr">'; o += "<button class='btn mr-right-01 btn-danger flt-right-a sq-btn' id='btn_delete_all' onclick='Utility.DeleteAll();'>Delete All</button>", o += '<ul class="alert-cnt-otr-ul">', $.each(e, function (t, e) { o += '<li class="mr-bottom-01">', o += '<div class="alert-bx-otr pos-rel-common">'; var i = '<div class="clear"><input type="hidden" value=' + e.NotificationId + "></div>" + e.NotificationMessage + '<div class="clear"></div>' + e.NotificationContent + '<div class="clear"></div><span class="alert-bd-time">' + e.CreatedTime + '</span><span class="alert-bd-date-time-div"> | </span><span class="alert-bd-date">' + e.CreatedDate + '</span><div class="clear"></div><a class="cls-ico-otr" href="#"><img class="cls-ico" src="../img/cls-icon.png"></a>'; o += i, o += "</div>", o += "</li>" }), 0 == e.length && (o += '<li class="mr-bottom-01">', o += '<div class="alert-bx-otr pos-rel-common">', o += '<span class="alert-title">No new notifications found</span>', o += '<div class="clear"></div>', o += "</div>", o += "</li>"), o += "</ul>", o += "</div>", $("#alertsection .alert-head .notif-count-inner").html(e.length), $("#alertsection .alert-cnt-otr").remove(), $("#alertsection").append(o), 0 == e.length && $("#btn_delete_all").hide(), Utility.currentcnt = e.length } }) } }; $(function () { function t() { var t, e = new Date, o = (e.getDay(), e.getMonth() + 1), i = e.getDate(), n = e.getYear(), r = e.getHours(), a = e.getMinutes(), s = e.getSeconds(); 0 == r ? (t = " AM", r = 12) : 12 > r ? t = " AM" : 12 == r ? t = " PM" : r > 12 && (t = " PM", r -= 12), 1e3 > n && (n += 1900), 9 >= a && (a = "0" + a), 9 >= s && (s = "0" + s), $("#spn_date").html("" + i + "/" + o + "/" + n + " " + r + ":" + a + ":" + s + t) } function e() { window.history.forward() } Utility.ServiceCall("POST", "BaseRackRateService.svc/GetReportURLHostAndPort", "", "json", !1, !0, function (t) { Utility.ReportHostAndPort = t.GetReportURLHostAndPortResult, Utility.openPentaho = "http://" + Utility.ReportHostAndPort + "/pentaho?userid=joe&password=password", Utility.CamsReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_BRRnull?solution=DSP_BlackRock&path=&name=CAMS_BRR.prpt&Memonumber_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.DistributorReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Dist_BRRnull?solution=DSP_BlackRock&path=&name=Dist_BRR.prpt&Memonumber_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.RegenerateReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Regeneratenull?solution=DSP_BlackRock&path=&name=Regenerate.prpt&MemoId_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.AdHocReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_AdHocnull?MemoNumber_P=###MemoNumber###&Channel_P=###Channel###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=CAMS_AdHoc.prpt&userid=joe&password=password", Utility.SIPReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Dist_SIPnull?Memo_P=###MemoNumber###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=Dist_SIP.prpt&userid=joe&password=password", Utility.TieUpCamsReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_TieUpnull?solution=DSP_BlackRock&path=&name=CAMS_TieUp.prpt&Memonumber_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.SIPCamsReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_SIPnull?solution=DSP_BlackRock&path=&name=CAMS_SIP.prpt&MemoNumber_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.AdHocCAMS_FB = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_AdHoc_FBnull?MemoNumber_P=###MemoNumber###&Channel_P=###Channel###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=CAMS_AdHoc_FB.prpt&userid=joe&password=password", Utility.AdHocCAMS_MB = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_AdHoc_MBnull?MemoNumber_P=###MemoNumber###&Channel_P=###Channel###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=CAMS_AdHoc_MB.prpt&userid=joe&password=password", Utility.SmartSheetReportURL = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Smart_Searchnull?solution=DSP_BlackRock&path=&name=Smart_Search.prpt", Utility.AdhocSummaryReport = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/AdHoc_Payment_Summary_Reportnull?###INPUT###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=AdHoc_Payment_Summary_Report.prpt&userid=joe&password=password", Utility.SchemeCatWiseReportURL = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Scheme_Cat_Wise_Summary_Reportnull?###INPUT###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=Scheme_Cat_Wise_Summary_Report.prpt&userid=joe&password=password", Utility.ChannelWiseReportURL = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Channel_Wise_Summary_Reportnull?solution=DSP_BlackRock&path=&name=Channel_Wise_Summary_Report.prpt&###INPUT###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.DistributorWiseReportURL = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Distributor_Wise_Summary_Reportnull?solution=DSP_BlackRock&path=&name=Distributor_Wise_Summary_Report.prpt&###INPUT###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.ZoneSummaryReport = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Zone_Branch_Reportnull?solution=DSP_BlackRock&path=&name=Zone_Branch_Report.prpt&###INPUT###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.ARNWiseReport = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/ARN_Specific_Reportnull?solution=DSP_BlackRock&path=&name=ARN_Specific_Report.prpt&###INPUT###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.CAMSBrokerageFormatSummaryReportPSI = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_BrokerageFormat_Summary_Report_PSInull?solution=DSP_BlackRock&path=&name=CAMS_BrokerageFormat_Summary_Report_PSI.prpt&###INPUT###&output-target=table%2Fexcel;page-mode=flow&userid=joe&password=password", Utility.CAMSBrokerageFormatSummaryReportTrail = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_BrokerageFormat_Summary_Report_Trailnull?solution=DSP_BlackRock&path=&name=CAMS_BrokerageFormat_Summary_Report_Trail.prpt&###INPUT###&output-target=table%2Fexcel;page-mode=flow&userid=joe&password=password" }), Utility.AllowDecimal(); var o = []; $(".token-input-highlighted-token-facebook").each(function () { o.push($(this).attr("title")) }), $(".select-bx-style").on("change", function () { var t = this; for (i = 0; i < t.length; i++) t.options[i].title = t.options[i].text; t.selectedIndex > -1 && (t.onmousemove = function () { t.title = t.options[t.selectedIndex].text }) }), $(".txt-area-style").keyup(function () { var t = this; t.title = $(this).val() }), $(".input-text-bx-style").keyup(function () { var t = this; t.title = $(this).val() }), $(".form-control multiselect-search").each(function () { var t = this; for (i = 0; i < t.length; i++) t.options[i].title = t.options[i].text; t.selectedIndex > -1 && (t.onmousemove = function () { t.title = t.options[t.selectedIndex].text }) }), $(document).on("keydown", function (t) { 8 !== t.which || $(t.target).is("input[type='text']:not([readonly]),input[type='password'], textarea") || t.preventDefault() }), window.onload = function () { t(), setInterval(t, 1e3) }, $(document.body).click(function () { var t = $(event.target); t.is(".cls-ico, #btn_delete_all") || "0px" == $("#alertsection").css("right") && (site.i = 0, $(".alert-sect-outer").animate({ right: "-450px" }, 600)) }), window.onload = e(), window.onpageshow = function (t) { t.persisted && e() } }), $(function () { function t(t) { var e = sessionStorage.UserName; e.length > 0 && t.server.connect(e, sessionStorage.UserID) } function e(t) { t.client.onConnected = function (e, n, r, a, s) { for (sessionStorage.setItem("connectionId", e), i = 0; i < r.length; i++) o(t, r[i].ConnectionId, r[i].UserName, r[i].UserId, s); for (i = 0; i < a.length; i++) AddMessage(a[i].UserName, a[i].Message) }, t.client.onNewUserConnected = function (e, i, n, r) { $("#divusers a").each(function () { $(this).text() == i && $(this).remove() }), o(t, e, i, n, r) }, t.client.onUserDisconnected = function (e, i, n) { $("#" + e).remove(); var r = "private_" + e; $("#" + r).remove(); var a = $('<div class="disconnect">"' + i + '" logged off.</div>'); $(a).hide(), $("#divusers").prepend(a), $(a).fadeIn(200).delay(2e3).fadeOut(200), o(t, null, i, n, null) }, t.client.messageReceived = function (t, e) { AddMessage(t, e) }, t.client.sendPrivateMessage = function (e, o, i, n) { var a = "private_" + e; 0 == $("#" + a).length && r(t, e, a, o, n), $("#" + a).find("#divMessage").append('<div class="message"><span class="userName">' + o + "</span>: " + i + "</div>"); var s = $("#" + a).find("#divMessage")[0].scrollHeight; $("#" + a).find("#divMessage").scrollTop(s) } } function o(t, e, o, i, r) { var a, s = sessionStorage.connectionId, l = ""; if (s == e); else { if (null != r) if (r.length > 0) { for (var c = 0; c < r.length; c++) i == r[c].SentFrom && (a = r[c]); l = "undefined" != typeof a ? null == e ? $('<a id="' + e + '" class="chatRoom content users offlineuser" style="font-weight:bold;">' + o + " (" + a.CountMsg + ')</a><input type="hidden" id="hdnOppId" value="' + i + '"/>') : $('<a id="' + e + '" class="chatRoom content users onlineuser" style="font-weight:bold;">' + o + " (" + a.CountMsg + ')</a><input type="hidden" id="hdnOppId" value="' + i + '"/>') : null == e ? $('<a id="' + e + '" class="chatRoom content users offlineuser" >' + o + '</a><input type="hidden" id="hdnOppId" value="' + i + '"/>') : $('<a id="' + e + '" class="chatRoom content users onlineuser" >' + o + '</a><input type="hidden" id="hdnOppId" value="' + i + '"/>') } else l = null == e ? $('<a id="' + e + '" class="chatRoom content users offlineuser" >' + o + '</a><input type="hidden" id="hdnOppId" value="' + i + '"/>') : $('<a id="' + e + '" class="chatRoom content users onlineuser" >' + o + '</a><input type="hidden" id="hdnOppId" value="' + i + '"/>'); else l = null == e ? $('<a id="' + e + '" class="chatRoom content users offlineuser" >' + o + '</a><input type="hidden" id="hdnOppId" value="' + i + '"/>') : $('<a id="' + e + '" class="chatRoom content users onlineuser" >' + o + '</a><input type="hidden" id="hdnOppId" value="' + i + '"/>'); $(l).dblclick(function () { $(this).text().indexOf(" (") > -1 && ($(this).css("font-weight", "normal"), $(this).text($(this).text().substring(0, $(this).text().indexOf(" (")))); var e = $(this).attr("id"); s != e && n(t, e, o, i) }) } $("#divusers").append(l) } function n(t, e, o, i) { var n = "private_" + e; $("#" + n).length > 0 || r(t, e, n, o, i) } function r(t, e, o, i, n) { var r = ""; r = null == o || "private_null" == o ? '<div id="' + o + '" class=".ui-widget-contentsall draggable" rel="0"><div class="header"><div style="float:right;"><img id="imgDelete"  style="cursor:pointer;" src="../img/delete.png"/></div><span class="selText" rel="0">' + i + '<img src="../img/OfflineUser.gif" class="pull-right"></img></span></div><div id="divHistory"><input id="btnViewHistory" class="submitButton button" type="button" value="View History" style="background-color:black;"/><input type="hidden" id="hdnOppId" value="' + n + '"/></div><div id="divHistoryMessage"></div><div id="divMessage" class="messageArea"></div><div class="buttonBar"><input id="txtPrivateMessage" class="msgText" type="text"   /><input id="btnSendMessage" class="submitButton button" type="button" value="Send"/></div></div>' : '<div id="' + o + '" class=".ui-widget-contentsall draggable" rel="0"><div class="header"><div  style="float:right;"><img id="imgDelete"  style="cursor:pointer;" src="../img/delete.png"/></div><span class="selText" rel="0">' + i + '<img src="../img/OnlineUser.gif" class="pull-right"></span></div><div id="divHistory"><input id="btnViewHistory" class="submitButton button" type="button" value="View History" style="background-color:black;"/><input type="hidden" id="hdnOppId" value="' + n + '"/></div><div id="divHistoryMessage"></div><div id="divMessage" class="messageArea"></div><div class="buttonBar"><input id="txtPrivateMessage" class="msgText" type="text"   /><input id="btnSendMessage" class="submitButton button" type="button" value="Send"/></div></div>'; var s = $(r); s.find("#imgDelete").click(function () { $("#" + o).remove() }), s.find("#btnSendMessage").click(function () { $textBox = s.find("#txtPrivateMessage"); var o = $textBox.val(); o.length > 0 && (t.server.sendPrivateMessage(e, o, n), $textBox.val("")) }), s.find("#btnViewHistory").click(function () { if ($("#divHistoryMessage").hasClass("historyShow")) $("#divHistoryMessage").removeClass("historyShow"), $("#divHistoryMessage").empty(); else { var t = [], e = []; $("#divHistoryMessage").addClass("historyShow"), Utility.ServiceCall("POST", "MasterService.svc/GetChatHistory", JSON.stringify({ SentFrom: sessionStorage.UserID, SentTo: n }), "json", !1, !1, function (o) { if (e = o.GetChatHistoryResult, e.length > 0) { for (var i = [], n = 0; n < e.length; n++) i[n] = e[n].ChatDate + "<br>" + e[n].Message + "<br>"; t = i, $("#divHistoryMessage").html(t) } }) } }), s.find("#txtPrivateMessage").keypress(function (t) { 13 == t.which && s.find("#btnSendMessage").click() }), a(s) } function a(t) { $("#chat_id").prepend(t), t.draggable({ handle: ".header", stop: function () { } }), $("#txtPrivateMessage").focus() } function s() { var t, e = new Date, o = (e.getDay(), e.getMonth() + 1), i = e.getDate(), n = e.getYear(), r = e.getHours(), a = e.getMinutes(), s = e.getSeconds(); 0 == r ? (t = " AM", r = 12) : 12 > r ? t = " AM" : 12 == r ? t = " PM" : r > 12 && (t = " PM", r -= 12), 1e3 > n && (n += 1900), 9 >= a && (a = "0" + a), 9 >= s && (s = "0" + s), $("#spn_date").html("" + i + "/" + o + "/" + n + " " + r + ":" + a + ":" + s + t) } function l() { window.history.forward() } var c = sessionStorage.RoleID; if ("10" == c || "3" == c || "6" == c || "7" == c || "5" == c) { var p = '<div class="index_reload"><div id="chat_area"><div class="chat_box main_chat2 hide_wrap_box" id="chat_id"><div class="user_box"><div class="name open_chat2 left">Chat</div><div class="closed2 right" id="icon">^ &nbsp;</div><div class="clear"></div></div><div class="wrap_box2" style="display:none"><div class="message_content"><div id="divusers" class="users"></div></div></div></div></div></div>'; $("#globalDiv").append(p), $(".main_chat2").toggle("bounce", { times: 3 }, "slow"), $(".user_box").click(function () { $(".wrap_box2").is(":visible") ? ($(".wrap_box2").hide(), $(".main_chat2").addClass("hide_wrap_box"), $("#icon").html("^")) : ($(".wrap_box2").show(), $(".main_chat2").removeClass("hide_wrap_box"), $("#icon").html("x")) }), $(function () { var o = $.connection.notificationHub; e(o), $.connection.hub.start().done(function () { t(o) }) }) } Utility.ServiceCall("POST", "BaseRackRateService.svc/GetReportURLHostAndPort", "", "json", !1, !0, function (t) { Utility.ReportHostAndPort = t.GetReportURLHostAndPortResult, Utility.openPentaho = "http://" + Utility.ReportHostAndPort + "/pentaho?userid=joe&password=password", Utility.CamsReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_BRRnull?solution=DSP_BlackRock&path=&name=CAMS_BRR.prpt&Memonumber_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.DistributorReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Dist_BRRnull?solution=DSP_BlackRock&path=&name=Dist_BRR.prpt&Memonumber_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.RegenerateReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Regeneratenull?solution=DSP_BlackRock&path=&name=Regenerate.prpt&MemoId_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.AdHocReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_AdHocnull?MemoNumber_P=###MemoNumber###&Channel_P=###Channel###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=CAMS_AdHoc.prpt&userid=joe&password=password", Utility.SIPReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Dist_SIPnull?Memo_P=###MemoNumber###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=Dist_SIP.prpt&userid=joe&password=password", Utility.TieUpCamsReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_TieUpnull?solution=DSP_BlackRock&path=&name=CAMS_TieUp.prpt&Memonumber_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.SIPCamsReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_SIPnull?solution=DSP_BlackRock&path=&name=CAMS_SIP.prpt&MemoNumber_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.AdHocCAMS_FB = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_AdHoc_FBnull?MemoNumber_P=###MemoNumber###&Channel_P=###Channel###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=CAMS_AdHoc_FB.prpt&userid=joe&password=password", Utility.AdHocCAMS_MB = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_AdHoc_MBnull?MemoNumber_P=###MemoNumber###&Channel_P=###Channel###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=CAMS_AdHoc_MB.prpt&userid=joe&password=password", Utility.SmartSheetReportURL = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Smart_Searchnull?solution=DSP_BlackRock&path=&name=Smart_Search.prpt", Utility.AdhocSummaryReport = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/AdHoc_Payment_Summary_Reportnull?###INPUT###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=AdHoc_Payment_Summary_Report.prpt&userid=joe&password=password", Utility.SchemeCatWiseReportURL = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Scheme_Cat_Wise_Summary_Reportnull?###INPUT###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=Scheme_Cat_Wise_Summary_Report.prpt&userid=joe&password=password", Utility.ChannelWiseReportURL = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Channel_Wise_Summary_Reportnull?solution=DSP_BlackRock&path=&name=Channel_Wise_Summary_Report.prpt&###INPUT###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.DistributorWiseReportURL = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Distributor_Wise_Summary_Reportnull?solution=DSP_BlackRock&path=&name=Distributor_Wise_Summary_Report.prpt&###INPUT###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.ZoneSummaryReport = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Zone_Branch_Reportnull?solution=DSP_BlackRock&path=&name=Zone_Branch_Report.prpt&###INPUT###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.ARNWiseReport = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/ARN_Specific_Reportnull?solution=DSP_BlackRock&path=&name=ARN_Specific_Report.prpt&###INPUT###&output-target=pageable%2Fpdf&userid=joe&password=password" }), Utility.AllowDecimal(); var d = []; $(".token-input-highlighted-token-facebook").each(function () { d.push($(this).attr("title")) }), $(".select-bx-style").on("change", function () { var t = this; for (i = 0; i < t.length; i++) t.options[i].title = t.options[i].text; t.selectedIndex > -1 && (t.onmousemove = function () { t.title = t.options[t.selectedIndex].text }) }), $(".txt-area-style").keyup(function () { var t = this; t.title = $(this).val() }), $(".input-text-bx-style").keyup(function () { var t = this; t.title = $(this).val() }), $(".form-control multiselect-search").each(function () { var t = this; for (i = 0; i < t.length; i++) t.options[i].title = t.options[i].text; t.selectedIndex > -1 && (t.onmousemove = function () { t.title = t.options[t.selectedIndex].text }) }), $(document).on("keydown", function (t) { 8 !== t.which || $(t.target).is("input[type='text']:not([readonly]),input[type='password'], textarea") || t.preventDefault() }), window.onload = function () { s(), setInterval(s, 1e3) }, $(document.body).click(function () { var t = $(event.target); t.is(".cls-ico, #btn_delete_all") || "0px" == $("#alertsection").css("right") && (site.i = 0, $(".alert-sect-outer").animate({ right: "-450px" }, 600)) }), window.onload = l(), window.onpageshow = function (t) { t.persisted && l() } });